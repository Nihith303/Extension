(()=>{"use strict";var e,t,n,a={3415:(e,t,n)=>{var a=n(6540),l=n(5338);const r=e=>{let{activeTab:t,setActiveTab:n}=e;return a.createElement("div",{className:"tabs"},a.createElement("button",{className:"tab-button "+("summary"===t?"active":""),onClick:()=>n("summary")},"Summary"),a.createElement("button",{className:"tab-button "+("links"===t?"active":""),onClick:()=>n("links")},"Links"),a.createElement("button",{className:"tab-button "+("images"===t?"active":""),onClick:()=>n("images")},"Images"),a.createElement("button",{className:"tab-button "+("headers"===t?"active":""),onClick:()=>n("headers")},"Headers"),a.createElement("button",{className:"tab-button "+("schema"===t?"active":""),onClick:()=>n("schema")},"Schema"),a.createElement("button",{className:"tab-button "+("pagespeedtest"===t?"active":""),onClick:()=>n("pagespeedtest")},"PageSpeed"))},c=async()=>{const[e]=await chrome.tabs.query({active:!0,currentWindow:!0}),t=e.id;return new Promise(((e,n)=>{chrome.scripting.executeScript({target:{tabId:t},func:()=>{const e=document.querySelector('meta[name="robots"]')?.content||"Not Available",t=document.querySelector('meta[http-equiv="X-Robots-Tag"]')?.content||"Not Available",n=document.documentElement.lang||"Not Available";return{title:document.title,description:document.querySelector('meta[name="description"]')?.content||"Not Available",canonical:document.querySelector('link[rel="canonical"]')?.href||"Not Available",robots:e,xRobots:t,lang:n,url:window.location.href}}},(t=>{let[a]=t;a&&a.result?e(a.result):n(new Error("Failed to fetch website info"))}))}))},o=()=>{const[e,t]=(0,a.useState)({}),[n,l]=(0,a.useState)(!0);return(0,a.useEffect)((()=>{(async()=>{try{const e=await c();t(e)}catch(e){console.error("Error fetching website info:",e)}finally{l(!1)}})()}),[]),a.createElement("div",{className:"active-tab-container"},a.createElement("h2",null,"Summary"),n?a.createElement("img",{src:"image/loading.gif",alt:"Loading",className:"loading"}):a.createElement("div",{className:"info"},a.createElement("p",null,a.createElement("span",null,a.createElement("strong",null,"Title")),a.createElement("span",null,":"),a.createElement("span",null," ",e.title)),a.createElement("p",null,a.createElement("span",null,a.createElement("strong",null,"Description")),a.createElement("span",null,":"),a.createElement("span",null," ",e.description)),a.createElement("p",null,a.createElement("span",null,a.createElement("strong",null,"Canonical")),a.createElement("span",null,":"),a.createElement("span",null," ",e.canonical)),a.createElement("p",null,a.createElement("span",null,a.createElement("strong",null,"URL")),a.createElement("span",null,":"),a.createElement("span",null," ",e.url)),a.createElement("p",null,a.createElement("span",null,a.createElement("strong",null,"Language")),a.createElement("span",null,":"),a.createElement("span",null," ",e.lang)),a.createElement("p",null,a.createElement("span",null,a.createElement("strong",null,"Robots Meta")),a.createElement("span",null,":"),a.createElement("span",null," ",e.robots)),a.createElement("p",null,a.createElement("span",null,a.createElement("strong",null,"X-Robots Meta")),a.createElement("span",null,":"),a.createElement("span",null," ",e.xRobots))),e.url&&a.createElement("div",{className:"buttons"},a.createElement("button",{onClick:()=>window.open(`${e.url}/sitemap.xml`,"_blank")},"Sitemap"),a.createElement("button",{onClick:()=>window.open(`${e.url}/robots.txt`,"_blank")},"Robots.txt")))},s=async()=>{const[e]=await chrome.tabs.query({active:!0,currentWindow:!0}),t=e.id;return new Promise(((e,n)=>{chrome.scripting.executeScript({target:{tabId:t},func:()=>{const e=Array.from(document.querySelectorAll("a")).map((e=>({href:e.href,title:e.textContent.trim()||"No title"}))).filter((e=>e.href)),t=window.location.origin,n=e.filter((e=>e.href.startsWith(t))),a=e.filter((e=>!e.href.startsWith(t))),l=[...new Set(e.map((e=>e.href)))].map((t=>({href:t,title:e.find((e=>e.href===t))?.title||"No title"})));return{total:e,internal:n,external:a,unique:l}}},(t=>{let[a]=t;a&&a.result?e(a.result):n(new Error("Failed to fetch links"))}))}))},i=()=>{const[e,t]=(0,a.useState)([]),[n,l]=(0,a.useState)("total"),[r,c]=(0,a.useState)(!0);return(0,a.useEffect)((()=>{(async()=>{try{const e=await s();t(e)}catch(e){console.error("Error fetching links:",e)}finally{c(!1)}})()}),[]),a.createElement("div",{className:"active-tab-container"},a.createElement("h2",null,"Links"),r?a.createElement("img",{className:"loading",src:"image/loading.gif",alt:"Loading"}):a.createElement(a.Fragment,null,a.createElement("div",{className:"link-counts"},a.createElement("div",{className:"link-item"},a.createElement("span",null,"Total Links"),a.createElement("span",null,e.total?.length||0)),a.createElement("div",{className:"link-item"},a.createElement("span",null,"Internal Links"),a.createElement("span",null,e.internal?.length||0)),a.createElement("div",{className:"link-item"},a.createElement("span",null,"External Links"),a.createElement("span",null,e.external?.length||0)),a.createElement("div",{className:"link-item"},a.createElement("span",null,"Unique Links"),a.createElement("span",null,e.unique?.length||0))),a.createElement("div",{className:"filter-buttons"},a.createElement("button",{className:"total"===n?"active":"",onClick:()=>l("total")},"Total"),a.createElement("button",{className:"internal"===n?"active":"",onClick:()=>l("internal")},"Internal"),a.createElement("button",{className:"external"===n?"active":"",onClick:()=>l("external")},"External"),a.createElement("button",{className:"unique"===n?"active":"",onClick:()=>l("unique")},"Unique"),a.createElement("button",{className:"link-export-button",onClick:()=>{const t=[];t.push("URL,Title,Category,Count"),["internal","external"].forEach((n=>{e[n]?.forEach((a=>{let{href:l,title:r}=a;const c=e.total?.filter((e=>e.href===l)).length||0;t.push(`"${l}","${r}","${n}","${c}"`)}))}));const n=t.join("\n"),a=new Blob([n],{type:"text/csv"}),l=URL.createObjectURL(a),r=document.createElement("a");r.href=l,r.download="links.csv",r.click(),URL.revokeObjectURL(l)}},"Export Links")),a.createElement("div",{className:"links-table"},e[n]?.length>0?e[n].map(((t,n)=>a.createElement(a.Fragment,{key:n},a.createElement("div",{className:"link-details"},a.createElement("p",null,a.createElement("strong",null,"URL:"),a.createElement("a",{href:t.href,className:"link-url",target:"_blank",rel:"noopener noreferrer"},t.href)),a.createElement("p",null,a.createElement("strong",null,"Title:")," ",t.title)),a.createElement("div",{className:"link-count"},a.createElement("p",null,a.createElement("strong",null,"Count:")," ",e.total?.filter((e=>e.href===t.href)).length||0))))):a.createElement("div",{className:"no-items",id:"no-links"},a.createElement("p",null,"No Links to show in this ",a.createElement("br",null)," Category"),a.createElement("img",{src:"image/notfound.svg",alt:"Not Found"})))))},m=async e=>new Promise(((t,n)=>{chrome.scripting.executeScript({target:{tabId:e},func:()=>{const e=Array.from(document.querySelectorAll("img")).map((e=>({src:e.src||"No SRC",alt:e.alt||"No ALT",longDesc:e.longdesc||"No Description",width:e.naturalWidth||"N/A",height:e.naturalHeight||"N/A"}))),t=e.filter((e=>"No ALT"===e.alt)),n=e.filter((e=>"No Description"===e.longDesc)),a=e.filter((e=>"No SRC"===e.src));return{total:e,noAlt:t,noLongDesc:n,noSrc:a}}},(e=>{let[a]=e;a?.result?t(a.result):n("Error fetching images")}))})),u=()=>{const[e,t]=(0,a.useState)({total:[],noAlt:[],noLongDesc:[],noSrc:[]}),[n,l]=(0,a.useState)("total"),[r,c]=(0,a.useState)(!0);(0,a.useEffect)((()=>{(async()=>{try{const[e]=await chrome.tabs.query({active:!0,currentWindow:!0}),n=e.id,a=await m(n);t(a)}catch(e){console.error("Error fetching images:",e)}finally{c(!1)}})()}),[]);const o=e=>{const t=window.open();t&&(t.document.body.innerHTML=`\n        <div style="text-align: center; margin: 20px;">\n          <img src="${e}" alt="Full Image" style="max-width: 100%; height: auto; margin-bottom: 20px;"/><br/>\n          <a href="${e}" download="${e.split("/").pop()}" \n            style="display: inline-block; padding: 10px 20px; background-color: #0056b3; color: white; text-decoration: none; border-radius: 5px;">\n            Download\n          </a>\n        </div>\n      `)};return a.createElement("div",{className:"active-tab-container"},a.createElement("h2",null,"Images"),r?a.createElement("img",{src:"image/loading.gif",alt:"Loading",className:"loading"}):a.createElement(a.Fragment,null,a.createElement("div",{className:"image-counts"},a.createElement("div",{className:"image-item"},a.createElement("span",null,"Total Images"),a.createElement("span",null,e.total?.length||0)),a.createElement("div",{className:"image-item"},a.createElement("span",null,"Without ALT"),a.createElement("span",null,e.noAlt?.length||0)),a.createElement("div",{className:"image-item"},a.createElement("span",null,"Without Description"),a.createElement("span",null,e.noLongDesc?.length||0)),a.createElement("div",{className:"image-item"},a.createElement("span",null,"Without SRC"),a.createElement("span",null,e.noSrc?.length||0))),a.createElement("div",{className:"image-nav"},a.createElement("button",{onClick:()=>l("total")},"Total"),a.createElement("button",{onClick:()=>l("noAlt")},"No ALT"),a.createElement("button",{onClick:()=>l("noLongDesc")},"No Description"),a.createElement("button",{onClick:()=>l("noSrc")},"No SRC"),a.createElement("button",{className:"export-button",onClick:()=>{const t=e[n].map((e=>`${e.src},${e.alt},${e.longDesc},${e.width}x${e.height}`)).join("\n"),a=new Blob([`URL,ALT,LongDesc,Size\n${t}`],{type:"text/csv"}),l=URL.createObjectURL(a),r=document.createElement("a");r.href=l,r.download="images.csv",r.click(),URL.revokeObjectURL(l)}},"Export")),a.createElement("div",{className:"images-table"},0===e[n].length?a.createElement("div",{className:"no-items"},a.createElement("p",null,"No Images to show in this Category"),a.createElement("img",{src:"image/notfound.svg",alt:"Not Found"})):e[n].map(((e,t)=>a.createElement(a.Fragment,{key:t},a.createElement("div",{className:"image-details"},a.createElement("p",{onClick:()=>o(e.src)},a.createElement("strong",null,"URL:")," ",a.createElement("span",{className:"image-url"},e.src)),a.createElement("p",null,a.createElement("strong",null,"ALT:")," ",e.alt),a.createElement("p",null,a.createElement("strong",null,"Description:")," ",e.longDesc)),a.createElement("div",{className:"image-preview"},"No SRC"!==e.src?a.createElement("img",{src:e.src,alt:"Preview",onClick:()=>o(e.src)}):a.createElement("p",null,"No SRC"),a.createElement("p",null,e.width,"x",e.height))))))))},d=async e=>new Promise(((t,n)=>{try{chrome.scripting.executeScript({target:{tabId:e},func:()=>{const e=[];return Array.from(document.querySelectorAll("h1, h2, h3, h4, h5, h6")).forEach((t=>{e.push({tag:t.tagName.toLowerCase(),text:t.textContent.trim()})})),e}},(e=>{let[a]=e;if(chrome.runtime.lastError)n(chrome.runtime.lastError);else{const e=a.result||[],n={h1:e.filter((e=>"h1"===e.tag)).length,h2:e.filter((e=>"h2"===e.tag)).length,h3:e.filter((e=>"h3"===e.tag)).length,h4:e.filter((e=>"h4"===e.tag)).length,h5:e.filter((e=>"h5"===e.tag)).length,h6:e.filter((e=>"h6"===e.tag)).length};t({headers:e,counts:n})}}))}catch(e){n(e)}})),g=()=>{const[e,t]=(0,a.useState)([]),[n,l]=(0,a.useState)({h1:0,h2:0,h3:0,h4:0,h5:0,h6:0});(0,a.useEffect)((()=>{(async()=>{try{const[e]=await chrome.tabs.query({active:!0,currentWindow:!0}),n=e.id,{headers:a,counts:r}=await d(n);t(a),l(r)}catch(e){console.error("Error fetching headers:",e)}})()}),[]);const r=Object.values(n).every((e=>0===e));return a.createElement("div",null,a.createElement("h2",null,"Headers"),a.createElement("div",{className:"header-counts"},Object.keys(n).map((e=>a.createElement("div",{className:"header-item",key:e},a.createElement("span",null,e.toUpperCase()),a.createElement("span",null,n[e]||0))))),r?a.createElement("div",{className:"no-items",id:"no-headers"},a.createElement("p",null,"No Headers Found on this Website."),a.createElement("img",{src:"image/notfound.svg",alt:"Not Found"})):a.createElement("div",{className:"header-structure"},e.map(((e,t)=>a.createElement("div",{key:t,className:`header-content header-${e.tag}`},a.createElement("span",{className:"dashed-line"}),a.createElement("strong",null,a.createElement("span",{className:"header-tag"},e.tag)),a.createElement("span",{className:"header-text"},e.text))))))};var h=n(1219);const p=async e=>{const[t]=await chrome.tabs.query({active:!0,currentWindow:!0}),n=t.id;chrome.scripting.executeScript({target:{tabId:n},func:()=>Array.from(document.querySelectorAll('script[type="application/ld+json"]')).map((e=>{try{return JSON.parse(e.innerText)}catch{return null}})).filter(Boolean)},(t=>{let[n]=t;e(n.result||[])}))},E=(e,t,n,a,l,r,c,o,s)=>{let{nodes:i,links:m}=t;h.Ltv(e.current).selectAll("*").remove();const u=h.Ltv(e.current).append("svg").attr("width",o).attr("height",s).call(h.s_O().scaleExtent([.01,5]).on("zoom",(e=>{d.attr("transform",e.transform)}))),d=u.append("g");u.append("defs").append("marker").attr("id","arrow").attr("viewBox","0 -5 10 10").attr("refX",25).attr("refY",0).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#aaa"),c.current=h.tXi(i).force("link",h.kJC(m).id((e=>e.id)).distance(n)).force("charge",h.xJS().strength(-300)).force("center",h.jTM(o/2,s/2));const g=d.append("g").attr("stroke","#aaa").attr("stroke-width",1).selectAll("line").data(m).join("line").attr("marker-end","url(#arrow)"),p=d.append("g").selectAll("text").data(m).join("text").attr("class","link-label").text((e=>e.linkName||"")).style("font-size",`${a}px`).style("fill","#555"),E=d.append("g").selectAll("circle").data(i).join("circle").attr("r",l).attr("fill",(e=>h.t55[e.id%10])).call(h.$Er().on("start",(function(e){e.active||c.current.alphaTarget(.3).restart(),e.subject.fx=e.subject.x,e.subject.fy=e.subject.y})).on("drag",(function(e){e.subject.fx=e.x,e.subject.fy=e.y})).on("end",(function(e){e.active||c.current.alphaTarget(0),e.subject.fx=null,e.subject.fy=null}))),f=d.append("g").selectAll("text").data(i).join("text").attr("x",6).attr("y",3).text((e=>e.name)).style("font-size",`${a}px`);c.current.on("tick",(()=>{g.attr("x1",(e=>e.source.x)).attr("y1",(e=>e.source.y)).attr("x2",(e=>e.target.x)).attr("y2",(e=>e.target.y)),p.attr("x",(e=>(e.source.x+e.target.x)/2)).attr("y",(e=>(e.source.y+e.target.y)/2)),E.attr("cx",(e=>e.x)).attr("cy",(e=>e.y)),f.attr("x",(e=>e.x)).attr("y",(e=>e.y))}))},f=e=>{const t=[],n=[];t.push({id:0,name:"Schema"});let a=1;const l=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("object"==typeof e&&null!==e){const o=e["@type"],s=o?a++:r;o&&(t.push({id:s,name:e["@type"]||"Object"}),n.push({source:r,target:s,linkName:c})),Object.entries(e).forEach((e=>{let[t,n]=e;"@type"!==t&&l(n,s,t)}))}};return e.forEach((e=>l(e))),{nodes:t,links:n}},b=()=>{const[e,t]=(0,a.useState)([]),[n,l]=(0,a.useState)(70),[r,c]=(0,a.useState)(12),[o,s]=(0,a.useState)(8),[i,m]=(0,a.useState)(!0),u=(0,a.useRef)(null),d=(0,a.useRef)(null);(0,a.useEffect)((()=>{p(t)}),[]),(0,a.useEffect)((()=>{if(e.length>0){const t=f(e);E(u,t,n,r,o,0,d,1e3,1e3),console.log(u.current)}}),[e]),(0,a.useEffect)((()=>{if(d.current){const e=d.current.force("link");e&&(e.distance(n),d.current.alpha(1).restart())}}),[n]),(0,a.useEffect)((()=>{h.Ltv(u.current).selectAll("text").style("font-size",`${r}px`)}),[r]),(0,a.useEffect)((()=>{h.Ltv(u.current).selectAll("circle").attr("r",o)}),[o]),(0,a.useEffect)((()=>{if(d.current&&u.current){const e=h.Ltv(u.current).selectAll("circle");i?e.call(g(d.current)):e.on(".drag",null)}}),[i]);const g=e=>h.$Er().on("start",(function(t){t.active||e.alphaTarget(.3).restart(),t.subject.fx=t.subject.x,t.subject.fy=t.subject.y})).on("drag",(function(e){e.subject.fx=e.x,e.subject.fy=e.y})).on("end",(function(t){t.active||e.alphaTarget(0),t.subject.fx=null,t.subject.fy=null}));return a.createElement(a.Fragment,null,e.length>0&&a.createElement("div",null,a.createElement("div",{className:"container"},a.createElement("h2",null,"Schema Visualizer"),a.createElement("button",{onClick:()=>m((e=>!e)),id:"pause-play"},i?a.createElement("img",{src:"image/pause.svg",alt:"Pause button"}):a.createElement("img",{src:"image/play.svg",alt:"Play button"})),a.createElement("button",{onClick:()=>(e=>{const t=e.current.querySelector("svg");if(!t)return;const n=t.cloneNode(!0),a=t.getBBox(),l=a.width,r=a.height;n.setAttribute("viewBox",`${a.x} ${a.y} ${l} ${r}`),n.setAttribute("width",l),n.setAttribute("height",r);const c=(new XMLSerializer).serializeToString(n),o=new Blob([c],{type:"image/svg+xml;charset=utf-8"}),s=URL.createObjectURL(o),i=new Image;i.onload=()=>{const e=document.createElement("canvas");e.width=4*l,e.height=4*r;const t=e.getContext("2d");t.fillStyle="white",t.fillRect(0,0,e.width,e.height),t.drawImage(i,0,0,4*l,4*r);const n=document.createElement("a");n.download="schema-graph.png",n.href=e.toDataURL("image/png"),n.click(),URL.revokeObjectURL(s)},i.onerror=()=>{console.error("Error occurred while loading the image for download.")},i.src=s})(u),id:"download-btn"},a.createElement("img",{src:"image/download.svg",alt:"Download Graph"})),a.createElement("div",{className:"controls"},a.createElement("div",{className:"control-item"},a.createElement("label",null,"Font Size"),a.createElement("input",{type:"range",min:"8",max:"30",value:r,onChange:e=>c(Number(e.target.value))}),a.createElement("span",null,r)),a.createElement("div",{className:"control-item"},a.createElement("label",null,"Node Size"),a.createElement("input",{type:"range",min:"5",max:"50",value:o,onChange:e=>s(Number(e.target.value))}),a.createElement("span",null,o)),a.createElement("div",{className:"control-item"},a.createElement("label",null,"Link Distance"),a.createElement("input",{type:"range",min:"20",max:"200",value:n,onChange:e=>l(Number(e.target.value))}),a.createElement("span",null,n)))),a.createElement("div",{ref:u,className:"graph-container"})),0===e.length&&a.createElement("div",{className:"no-items"},a.createElement("p",null,"No Schema Found on this Website.")))},v=()=>{const[e,t]=(0,a.useState)(""),[n,l]=(0,a.useState)(null),[r,c]=(0,a.useState)(null),[o,s]=(0,a.useState)(!1),[i,m]=(0,a.useState)(""),u=async(e,t)=>{const n=`https://www.googleapis.com/pagespeedonline/v5/runPagespeed?url=${e}&strategy=${t}&key=AIzaSyCdskX2l4jTGn8RXH9zjDqnV31aHdhxTEU`,a=await fetch(n);if(!a.ok)throw new Error("Failed to fetch PageSpeed data");return a.json()},d=(t,n)=>{const l=100*t.categories.performance.score,r=(e=>e>=85?"#4caf50":e>=50?"#ffc107":"#f44336")(l);return a.createElement("div",{className:"score-card"},a.createElement("div",{className:"score-circle",style:{backgroundColor:"white",backgroundImage:`conic-gradient(${r} ${l}%, #f3f3f3 ${l}%)`}},a.createElement("span",null,l)),a.createElement("p",{className:"circle-label"},n," PageSpeed"),a.createElement("p",{className:"url-text"},"Google PageSpeed Insights for ",a.createElement("br",null)," ",a.createElement("span",{className:"url"},e)),(e=>{const t=e.audits;return a.createElement("div",{className:"metrics"},a.createElement("p",null,a.createElement("strong",null,"First Contentful Paint:")," ",t["first-contentful-paint"].displayValue),a.createElement("p",null,a.createElement("strong",null,"Largest Contentful Paint:")," ",t["largest-contentful-paint"].displayValue),a.createElement("p",null,a.createElement("strong",null,"Total Blocking Time:")," ",t["total-blocking-time"].displayValue),a.createElement("p",null,a.createElement("strong",null,"Cumulative Layout Shift:")," ",t["cumulative-layout-shift"].displayValue))})(t))};return a.createElement("div",{className:"pagespeed-container"},a.createElement("h2",null,"Page Speed Test"),a.createElement("button",{onClick:async()=>{m(""),s(!0);try{const e=await(async()=>{const[e]=await chrome.tabs.query({active:!0,currentWindow:!0});return e.url})();t(e);const[n,a]=await Promise.all([u(e,"desktop"),u(e,"mobile")]);l(n.lighthouseResult),c(a.lighthouseResult)}catch(e){m(e.message)}finally{s(!1)}},disabled:o},o?"Running Test...":"Run Speed Test"),o&&a.createElement("div",{className:"active-tab-container"},a.createElement("p",null,"It Might Take a While to Process"),a.createElement("img",{src:"image/loading.gif",alt:"Loading",className:"loading"})),i&&a.createElement("p",{className:"error"},i),a.createElement("div",{className:"score-container"},r&&d(r,"Mobile"),n&&d(n,"Desktop")),n&&r&&a.createElement("div",{className:"legend"},a.createElement("div",null,a.createElement("span",{className:"legend-color green"}),a.createElement("strong",null,"Good")),a.createElement("div",null,a.createElement("span",{className:"legend-color yellow"}),a.createElement("strong",null,"Can Be Better")),a.createElement("div",null,a.createElement("span",{className:"legend-color red"}),a.createElement("strong",null,"Need to Be Updated"))))},x=()=>a.createElement("footer",{className:"footer"},a.createElement("div",{className:"footer-content"},a.createElement("p",{className:"footer-text"},"For better results, visualization, and automated SEO audit",a.createElement("br",null)," of your website, visit Digispot-AI."),a.createElement("button",{className:"footer-button",onClick:()=>window.open("https://digispot.ai")},"Digispot-AI"))),y=()=>{const[e,t]=(0,a.useState)({}),[l,r]=(0,a.useState)({}),[o,i]=(0,a.useState)({}),[u,g]=(0,a.useState)({headers:[],counts:{}}),[h,b]=(0,a.useState)([]),[v,x]=(0,a.useState)(!0),y=(0,a.useRef)(null),S=(0,a.useRef)(null),[N,w]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{(async()=>{try{const[e]=await chrome.tabs.query({active:!0,currentWindow:!0}),n=e.id,[a,l,o,u]=await Promise.all([c(),s(),m(n),d(n),p(b)]);t(a),r(l),i(o),g(u)}catch(e){console.error("Error fetching data:",e)}})()}),[]),(0,a.useEffect)((()=>{if(h&&Array.isArray(h)&&h.length>0){const e=f(h);E(y,e,100,12,10,0,S,40,40),console.log(y.current)}}),[h]),a.createElement("div",{className:"tabs",id:"downloadpdf"},a.createElement("div",{ref:y,className:"noref"}),a.createElement("button",{className:"tab-button",onClick:async()=>{w(!0);const t=new(0,(await n.e(96).then(n.bind(n,5463))).jsPDF);let a=20;a=((e,t,n)=>{const a=[{label:"Title",value:t.title},{label:"Description",value:t.description},{label:"Canonical",value:t.canonical},{label:"URL",value:t.url},{label:"Language",value:t.lang},{label:"Robots Meta",value:t.robots},{label:"X-Robots Meta",value:t.xRobots}];e.setFontSize(16),e.text("Website SEO Report",105,10,{align:"center"}),e.setFontSize(14),e.text("Meta Links Data",10,n);let l=n+10;return a.forEach((t=>{l>280&&(e.addPage(),l=10),e.setFontSize(12),e.text(`${t.label}`,10,l),e.text(":",40,l),e.setFontSize(10),e.splitTextToSize(t.value||"Not Available",140).forEach((t=>{l>280&&(e.addPage(),l=10),e.text(t,45,l),l+=7}))})),l})(t,e,a),a+=10,a=((e,t,n)=>{let a=n;return e.setFontSize(14),e.text("Links Summary",10,a),a+=10,[{label:"Total Links",value:t.total?.length||0},{label:"Internal Links",value:t.internal?.length||0},{label:"External Links",value:t.external?.length||0},{label:"Unique Links",value:t.unique?.length||0}].forEach((t=>{let{label:n,value:l}=t;a>270&&(e.addPage(),a=10),e.setFontSize(12),e.text(`${n}`,10,a),e.text(":",40,a),e.setFontSize(10),e.text(`${l}`,50,a),a+=7})),a+=10,e.setFontSize(14),e.text("Links Information by Category",10,a),["internal","external"].forEach((n=>{a>270&&(e.addPage(),a=10),a+=10,e.setFontSize(14),e.text(`${n.charAt(0).toUpperCase()+n.slice(1)} Links`,10,a),a+=10,e.setFontSize(10),e.setFont(void 0,"bold"),e.rect(10,a-5,12,7),e.rect(22,a-5,108,7),e.rect(130,a-5,70,7),e.text("Index",12,a),e.text("URL",24,a),e.text("Title",132,a),a+=7,e.setFont(void 0,"normal"),t[n]?.forEach(((t,n)=>{let{href:l,title:r}=t;a>270&&(e.addPage(),a=10,e.setFontSize(10),e.setFont(void 0,"bold"),e.rect(10,a-5,12,7),e.rect(22,a-5,108,7),e.rect(130,a-5,70,7),e.text("Index",12,a),e.text("URL",24,a),e.text("Title",132,a),a+=7,e.setFont(void 0,"normal"));const c=e.splitTextToSize(l.trim(),100),o=e.splitTextToSize(r?.trim()||"No title",60),s=7*Math.max(c.length,o.length);e.rect(10,a-5,12,s),e.rect(22,a-5,108,s),e.rect(130,a-5,70,s),e.text(`${n+1}`,12,a),c.forEach(((t,n)=>{e.text(t,24,a+7*n)})),o.forEach(((t,n)=>{e.text(t,132,a+7*n)})),a+=s})),t[n]?.length||(a>270&&(e.addPage(),a=10),e.setFontSize(10),e.text("No links available.",10,a),a+=10)})),a})(t,l,a),a+=10,a=((e,t,n)=>{let a=n;const l=10,r=[15,85,60,30];return e.setFontSize(14),e.text("Image Information",10,a),a+=10,[{label:"Total Images",value:t.total?.length||0},{label:"Without ALT",value:t.noAlt?.length||0},{label:"Without Desc",value:t.noLongDesc?.length||0},{label:"Without SRC",value:t.noSrc?.length||0}].forEach((t=>{let{label:n,value:l}=t;a>250&&(e.addPage(),a=10),e.setFontSize(12),e.text(`${n}`,10,a),e.text(":",40,a),e.setFontSize(10),e.text(`${l}`,50,a),a+=7})),a+=10,e.setFontSize(14),e.text("Image Information by Category",10,a),a+=10,[{label:"Without ALT",data:t.noAlt||[]},{label:"Without SRC",data:t.noSrc||[]},{label:"Without Description",data:t.noLongDesc||[],specialCondition:(t.noLongDesc?.length||0)===(t.total?.length||0),specialMessage:"All links in the website have no Description."}].forEach((t=>{let{label:n,data:c,specialCondition:o,specialMessage:s}=t;return a>250&&(e.addPage(),a=10),e.setFontSize(12),e.text(n,10,a),a+=7,o?(e.setFontSize(14),e.setFont(void 0,"bold"),e.text(s,20,a),e.setFont(void 0,"normal"),void(a+=15)):0===c.length?(e.setFontSize(10),e.text("No images in this category.",20,a),void(a+=15)):(e.setFont(void 0,"bold"),e.setFontSize(10),e.text("Index",12,a+2+2),e.text("URL",l+r[0]+2,a+2+2),e.text("ALT",l+r[0]+r[1]+2,a+2+2),e.text("Description",l+r[0]+r[1]+r[2]+2,a+2+2),e.rect(l,a,r[0],7),e.rect(l+r[0],a,r[1],7),e.rect(l+r[0]+r[1],a,r[2],7),e.rect(l+r[0]+r[1]+r[2],a,r[3],7),a+=7,e.setFont(void 0,"normal"),c.forEach(((t,n)=>{let{src:c,alt:o,longDesc:s}=t;const i=e.splitTextToSize(c||"No SRC",r[1]-4),m=e.splitTextToSize(o||"No ALT",r[2]-4),u=e.splitTextToSize(s||"No Desc",r[3]-4),d=5*Math.max(i.length,m.length,u.length)+2;a+d>250&&(e.addPage(),a=10),e.rect(l,a,r[0],d),e.rect(l+r[0],a,r[1],d),e.rect(l+r[0]+r[1],a,r[2],d),e.rect(l+r[0]+r[1]+r[2],a,r[3],d),e.text(`${n+1}`,12,a+2+2),i.forEach(((t,n)=>{e.text(t,l+r[0]+2,a+2+2+5*n)})),m.forEach(((t,n)=>{e.text(t,l+r[0]+r[1]+2,a+2+2+5*n)})),u.forEach(((t,n)=>{e.text(t,l+r[0]+r[1]+r[2]+2,a+2+2+5*n)})),a+=d})),void(a+=15))})),a})(t,o,a),a+=10,a=((e,t,n)=>{let a=n;e.setFontSize(14),e.text("Headers Information",10,a),a+=10;const l=t.counts;return Object.entries(l).forEach((t=>{let[n,l]=t;a>270&&(e.addPage(),a=10),e.setFontSize(12),e.text(`${n.toUpperCase()}:`,10,a),e.setFontSize(10),e.text(`${l}`,40,a),a+=7})),a+=10,e.setFontSize(14),e.text("Header Details",10,a),a+=10,t.headers.forEach(((t,n)=>{let{tag:l,text:r}=t;a>270&&(e.addPage(),a=10);const c={h1:18,h2:14,h3:12,h4:11,h5:10,h6:9}[l]||10;e.setFontSize(c),e.text(`${l.toUpperCase()}:`,1.5*(28-c),a),e.splitTextToSize(r||"No Content",170).forEach((t=>{a>270&&(e.addPage(),a=10),e.text(t,1.5*(28-c)+10,a),a+=7})),a+=5})),a})(t,u,a),a+=10,await((e,t,n,a)=>{const l=t.current.querySelector("svg");if(!l)return void e.save(`Digispot.AI SEOAudit report-${a||"Website"}.pdf`);const r=l.cloneNode(!0),c=l.getBBox(),o=c.width,s=c.height;r.setAttribute("viewBox",`${c.x} ${c.y} ${o} ${s}`),r.setAttribute("width",o),r.setAttribute("height",s);const i=(new XMLSerializer).serializeToString(r),m=new Blob([i],{type:"image/svg+xml;charset=utf-8"}),u=URL.createObjectURL(m),d=new Image;d.onload=()=>{const t=document.createElement("canvas");t.width=4*o,t.height=4*s;const l=t.getContext("2d");l.fillStyle="white",l.fillRect(0,0,t.width,t.height),l.drawImage(d,0,0,4*o,4*s);const r=document.createElement("a");r.href=t.toDataURL("image/png");const c=180,i=200;let m=o,g=s;const h=m/g;(m>c||g>i)&&(m/c>g/i?(m=c,g=c/h):(g=i,m=i*h));const p=(e.internal.pageSize.width-m)/2,E=e.internal.pageSize.height;n+g+30>E?(e.addPage(),n=30):n+=20,e.setFontSize(14),e.text("Schema Structure",105,n-20,{align:"center"}),e.addImage(r.href,"PNG",p,n+10,m,g),console.log("Added Image in Doc."),URL.revokeObjectURL(u),e.save(`Digispot.AI SEOAudit report-${a||"Website"}.pdf`)},d.onerror=()=>{console.error("Error occurred while loading the image for download.")},d.src=u})(t,y,a,e.title),w(!1),console.log("DownloadGraphAsPdf")},id:"downloadbutton"},"Download as PDF"),a.createElement("div",{className:"noref"},N&&a.createElement("img",{src:"loading.gif",alt:"Loader"})))},S=()=>{const[e,t]=(0,a.useState)("summary");return a.createElement("div",{className:"app-container"},a.createElement(r,{activeTab:e,setActiveTab:t}),a.createElement(y,null),a.createElement("div",{className:"app-content"},"summary"===e&&a.createElement(o,null),"links"===e&&a.createElement(i,null),"images"===e&&a.createElement(u,null),"headers"===e&&a.createElement(g,null),"schema"===e&&a.createElement(b,null),"pagespeedtest"===e&&a.createElement(v,null)),a.createElement(x,null))};l.createRoot(document.getElementById("root")).render(a.createElement(S,null))}},l={};function r(e){var t=l[e];if(void 0!==t)return t.exports;var n=l[e]={exports:{}};return a[e].call(n.exports,n,n.exports,r),n.exports}r.m=a,e=[],r.O=(t,n,a,l)=>{if(!n){var c=1/0;for(m=0;m<e.length;m++){for(var[n,a,l]=e[m],o=!0,s=0;s<n.length;s++)(!1&l||c>=l)&&Object.keys(r.O).every((e=>r.O[e](n[s])))?n.splice(s--,1):(o=!1,l<c&&(c=l));if(o){e.splice(m--,1);var i=a();void 0!==i&&(t=i)}}return t}l=l||0;for(var m=e.length;m>0&&e[m-1][2]>l;m--)e[m]=e[m-1];e[m]=[n,a,l]},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,r.t=function(e,a){if(1&a&&(e=this(e)),8&a)return e;if("object"==typeof e&&e){if(4&a&&e.__esModule)return e;if(16&a&&"function"==typeof e.then)return e}var l=Object.create(null);r.r(l);var c={};t=t||[null,n({}),n([]),n(n)];for(var o=2&a&&e;"object"==typeof o&&!~t.indexOf(o);o=n(o))Object.getOwnPropertyNames(o).forEach((t=>c[t]=()=>e[t]));return c.default=()=>e,r.d(l,c),l},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.e=()=>Promise.resolve(),r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={887:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var a,l,[c,o,s]=n,i=0;if(c.some((t=>0!==e[t]))){for(a in o)r.o(o,a)&&(r.m[a]=o[a]);if(s)var m=s(r)}for(t&&t(n);i<c.length;i++)l=c[i],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(m)},n=self.webpackChunkwebsite_info_crawler=self.webpackChunkwebsite_info_crawler||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var c=r.O(void 0,[96],(()=>r(3415)));c=r.O(c)})();
//# sourceMappingURL=popup.js.map